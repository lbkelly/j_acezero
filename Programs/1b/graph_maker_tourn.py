import helpers
import os
import ace_zero_results
import static_sets
import sys


def main():

    agent1 = []
    agent2 = []
    agent3 = []
    agent4 = []
    agent5 = []
    agent6 = []
    agent7 = []
    agent8 = []

    round = int(raw_input("Round (1), (2) or (3)?: "))
    num_agents = int(raw_input("How many agents?: "))
    i = 0
    while i < num_agents:
        exp = raw_input("Enter agent " + str(i+1) + " exp type (SNV, RNS etc): ")


    agent_type = "round" + str(round) + "_"
    exp = raw_input("Enter exp type (SNV, RNS etc): ")
    seed = raw_input("Enter run seed (varied) or index (static): ")
    fit = raw_input("Best relative or GP?: ")
    against = int(raw_input("Fly against evolved agent(1) or test set(2): "))
    name = agent_type + exp + "_" + seed + "_" + fit

    if against == 1:
        print "Enter ENEMY info: \n"
        red_agent_type = "round" + str(round) + "_"
        red_exp = raw_input("Enter exp type (SNV, RNS etc): ")
        red_seed = raw_input("Enter run seed (varied) or index (static): ")
        red_fit = raw_input("Best relative or GP?: ")
        red_name = red_agent_type + red_exp + "_" + red_seed + "_" + red_fit
        folder_string = name + "_VS_" + red_name
    elif against == 2:
        folder_string = name + "_VS_TESTSET"
    # elif against == 3:
    #     folder_string = name + " VS STRAIGHT AGENT"
    # elif against == 4:
    #     folder_string = name + " VS DEFAULT"
    else:
        print "you fucked up"

    # Make new folder for experiemnt results
    save_path = os.getcwd()
    folder = os.path.join(save_path, folder_string)
    if not os.path.isdir(folder):
        os.makedirs(folder)
    path = folder_string

    # create out file
    text_file = folder_string + '/agents.txt'
    sys.stdout = open(text_file, 'w')

    viper = [0.106360493577, -72.8877129208, 29606.1532558, 26.0288988908, 2434.65079249]
    cobra = [-16879.8401546, -25515.2153818, -30508.533697, 35693.0778307, -32208.4875675, 11895.738328, 895.001092006, 566.609848201, -642.483992902, 910.572295702, -790.595132386, 994.685280852, 37.2083748576, 16.6203978575, 26.1364815659, 87.1190140934, 10.6815265936, -46.9623747405, 39582.3258874, 35516.4473231, -25538.8436059, 12409.1222043, -33004.9046124, -31576.9242617, -513.009887296, -28.9450159913, -139.196175659, 486.282513909, -199.733972495, 664.053507268, -7.1660626591, 65.9310106475, -21.5877005689, -80.6837500832, -43.3092390592, -48.1855115124, 23089.4964157, 16261.3418979, -31984.1621475, 22886.3724597, -2282.02546173, 33628.2790884, -703.573595454, 118.296511296, -877.520786291, 830.47862677, 50.3325997016, 811.063762366, -97.092683278, -92.9403609156, -55.8603581239, 26.1010370621, -59.4025364545, 91.4807750158, 24543.3545885, 43924.2032799, 40332.2941183, 33951.8843549, -24505.9898316, -10000.5060362, -350.634590335, 746.930514316, -586.014480571, 164.666726697, 881.875734193, -725.22289088, 39.3870926602, 15.9597165564, -82.6977613422, 10.7973123396, 44.8345581564, 38.8356565406, -35732.9450945, 1369.72553563, -16991.443635, 23580.3179593, -22274.2925584, 40563.3274591, -343.033365957, 351.422625669, -570.846608104, 704.154339794, -694.293659485, 369.149451807, -57.2597649114, 61.7545186993, -56.382571518, 54.1230480745, -45.0090130591, 70.9817036987, -38914.8200858, 3579.79270847, -16752.1003203, 14466.1523562, -40965.261132, 8102.52046947, 919.120119529, -252.119814215, -407.196028509, 856.04965737, 734.40445613, 454.519665682, 60.2920702899, -78.398504934, -15.803865872, 78.7230316656, -75.1273692166, 83.0242566333, -14103.9241443, 7642.20607785, -33896.4240476, 19224.0204044, -7294.84389521, -28197.2467425, 300.400377365, -801.946144058, -188.755900648, -326.334601584, -733.603350036, -872.347830424, 36.7945539127, 10.8830698773, 91.0813697226, 9.67973694555, -62.8620300122, 40.383628783, -43809.8668861, 25782.002331, -34997.0922594, -44442.3307226, -4302.98312573, 29364.2998781, 689.685473299, 938.037446199, -738.488676152, 437.637196124, 206.085677448, 104.175094653, -98.4038607049, -67.0099333248, -66.756758777, -90.1242054152, 53.315758839, 82.1442623103, -17824.524543, 47490.3761015, -36318.8872365, 254.380539646, -10934.321809, 21343.7598625, -247.795206668, 213.155472157, -880.715482469, 463.671871408, -15.5501705172, 153.005331792, -83.0201978097, 29.3543475629, -13.2791677214, 31.2091414077, -7.18959080186, 34.7985581871, -3718.17006499, 19301.2185973, -12514.0788382, 20688.2591919, -41992.2531435, -5869.50631789, -178.372521154, 770.657929741, -958.887212245, -877.236382136, 371.681117622, 360.613611696, -74.2399803806, 39.7283455489, -39.889521838, 14.7124564687, -36.938686603, 9.22063246584, -9431.65601277, 37031.1741769, -33742.6084381, 34987.9785531, 39442.2255373, 40413.4417956, 543.061408359, 359.172847555, -15.5040319277, 369.54885466, 319.029786497, 488.311702622, -24.2187433037, -72.652832634, -26.9698417799, -0.510181601085, 75.9575631356, -49.0065043544, -8648.6771332, -2640.59447205, -1115.11448995, 44704.2469193, -5614.03293493, -15117.1397727, -634.877879783, 953.125056503, 320.804573821, 195.055874719, -87.0218053586, 914.226401591, -13.4925659305, 99.3911108373, -72.2981366185, 96.0783085129, -33.0328600007, 92.7496619814, -37753.2306004, -28865.721321, 31664.3504731, 8174.00201934, -33501.4853235, 2544.75631756, -523.755730806, 506.706110483, -197.25232319, -62.6172445401, -537.856430711, 456.071636742, -46.6321822397, -68.5872512751, 47.137773358, 3.54873310618, -61.8804626672, 4.15955687127, -27370.6658855, 40757.5080117, -12570.7370415, 32391.9477071, -9798.9682205, 19251.7188961, -656.527064885, 959.275228857, -655.020519402, 689.774456199, -372.781730702, 987.029165035, -94.9434653917, 58.4864535828, -61.8250629751, 2.43730567507, -44.1775010324, 90.0056734003, -28147.035913, 42678.2899977, -19773.9250556, -22158.6838486, -28813.7226718, -23887.1675014, -170.443453328, 742.781540893, -590.901361571, -635.672990779, -984.334343579, 408.19108453, -79.4466595235, -95.7755376533, -66.5969370958, 74.4277601465, -78.9639703093, -95.1852573957, 40334.4682035, 25100.5655474, -3099.54534845, -14019.4819355, -7681.38737721, 33329.5545493, -911.469948975, -164.030476977, -47.3210579999, 428.658191947, -672.296179995, 544.718385857, 21.5549424933, 26.513111683, -55.7829361401, 51.0340527857, -16.6528546286, 96.2138312511, -23489.7627011, 24202.0886233, -35931.987333, 24294.7861646, 42883.952735, 25155.3468442, -393.262385729, 867.312247553, -723.132216271, 199.228937785, 336.223609693, -305.127451954, -30.0073441891, -14.3338742177, -33.9560640236, 81.3389456603, -62.9564409939, -80.2295160054, 46754.4811714, 37999.1473246, -29235.0644031, 13169.9482119, -25661.905276, -4098.52354434, -111.453881227, 213.644231101, -583.587553671, -957.312467863, -933.321509409, 48.6421868392, -55.9055978552, 62.0285871442, -40.9035202587, -70.5389456642, -12.0077152428, 24.7231718584, -29006.75633, 22496.9267947, 17078.9419906, 40321.1988778, -2216.77192995, 37187.1434633, -902.357139776, 400.598915519, -896.251184472, 280.424520534, -396.712270718, 599.016457373, -37.5846326154, 88.0647478784, 20.0717888978, 39.3489728209, -55.3708938181, 61.9082013604, 7609.0061775, 3676.22020101, -6217.83579464, 42678.5350056, -32531.2522528, 42055.3236112, -240.473401462, -566.589465942, -154.310185253, -569.989553005, -983.907995912, -60.6610728022, -8.32467502506, 67.0327148784, 20.2170831237, 15.5008697059, -34.6991327016, 35.5900514526, -24923.3584196, 26023.3025122, 18111.1061824, 19451.7771127, -25674.7643941, 38700.6916023, 270.990995237, 607.70073589, -621.924221662, 338.606322586, 369.100517642, 203.39586937, -4.27507615287, -60.7420763319, -48.9871210978, 90.1489640766, 18.4357351234, 37.6374986363, -34227.7893676, -30873.3052725, -15412.7354383, 2880.73385878, -44450.3649407, 18514.9985086, -37.8514174472, 51.6620149825, 998.3238638, 542.084349782, -913.172321089, 237.352455679, -37.6442217891, 95.0502948429, -1.21025930541, 35.7514782886, 65.7877409171, 66.7021680212, -46698.6169628, -55.4671439229, -36829.8807265, 46823.4703329, -2723.76843191, 19701.0221801, -449.45158121, 409.75202903, -920.203819561, 776.685388371, -744.540827431, 556.015281922, -36.4617833123, 49.4662909336, -68.5819715466, 10.3718070529, -69.6516686196, 22.1457708129, -2600.80416264, 7071.96940488, -34034.4556109, 26567.8081641, -31748.3870828, 21757.8104864, -376.106235434, 837.508869054, -55.5915485865, 263.306169876, -615.088417193, 869.753916337, -25.0498586164, 74.299256267, -56.5609084171, 54.8440576887, -99.6526476499, 1.58650715002, 22686.7433886, 25980.9623139, -8162.0397489, -10750.1656111, -36190.1243421, -20055.9327098, -574.496339667, 227.963153579, -427.1880063, 469.330940854, -656.623174814, 919.711029166, -59.6194627722, 3.19898590622, -88.7338255113, 0.956966782914, -71.8492297492, -92.5651635317, -3119.93220009, 8546.35651659, -40168.0431417, 40790.30314, 25458.89779, 18147.6109634, -396.693042093, -391.151806521, -803.41640084, 210.002230076, -272.870313482, 739.808404627, -44.0990413126, 87.3453378001, -24.9896403013, 53.6174067997, -55.7780942676, 67.2774896763, -38600.5052605, 44414.4916878, -34285.2633744, -40614.0888254, -3868.04108902, 25131.9746724, -364.673657553, 528.53156711, -502.665762438, 209.607261174, -499.506684776, 134.526273018, -96.4529955362, 36.9981185945, -14.1158692922, 53.0383167232, -20.9354767385, -60.7044454817, -10537.8454291, 41316.9311563, -23909.959484, 4258.37330245, 2703.12368182, 24006.8242247, -97.6448552793, 16.306866117, 114.182153987, 643.757693893, -121.9455369, -185.565836026, 64.1872294608, 21.7327124252, 90.6063029423, -38.0716148552, 95.8926543213, 74.8915743988, -44387.0389994, 37234.0969849, -14765.2828464, 41910.3636903, -10332.5261137, 27501.5747978, -695.455036382, 871.79841994, -211.903225742, -448.809651249, -22.8361570362, 318.8234994, -92.69529165, -16.7764438789, -16.26631024, 76.0033788114, -17.1834702143, 47.6165909, -31477.9619258, 34461.8289096, -44807.2497021, 13105.8299152, -12444.6957579, 38971.449787, -774.999880398, 452.246762937, -784.346693635, 315.882724161, -77.3711751097, 554.596669542, -92.094267881, 82.7441663646, -91.4772824539, 90.2547368352, -41.3383365287, 45.6267441977, 4847.77165176, 46423.2701615, -35.1593249503, -30629.7301508, -20021.9288479, 37542.136214, -626.347682905, 530.606937607, -258.265557075, -258.830999517, 267.476508047, 54.5410731685, -47.0012615361, 83.4470449074, -7.25117733514, -21.0900933557, -73.6532831957, 15.2199236132, 6047.28390414, 29249.7437994, -37936.0590989, -7554.53337239, -30259.7776621, -21930.4646941, 784.879804059, -264.261525518, -582.948414592, 763.308082471, -892.387781398, -803.384502625, 75.3042412317, 85.9489606373, -83.8094157019, 48.7070965232, -0.475193267583, -40.3570123389, -21662.2027948, 23240.7011813, 15711.9455663, -6494.88421091, -41480.3850493, 31521.1768363, 46.907863101, 86.9604810949, -484.598870442, 428.688612434, -400.35309391, 813.65009, -1.1260150648, 20.8213616212, 91.1469941671, 31.7819394654, -93.4697577786, 72.5215429205, -44989.6728914, 16948.687288, -9111.76520546, 29910.286549, 23291.454639, 18263.5334049, -220.486505215, 262.741912878, 684.962842177, -650.391714781, 690.136532466, -966.256441287, 35.0432431299, -43.3174982545, 80.9109934459, 65.6690422157, 76.5816902081, 39.03637794, -935.563812786, 14220.7285821, -25144.4728542, 27149.6228717, -27911.0178315, 34115.4329785, -143.455079745, 428.752950714, -344.444165788, 947.279066152, -879.762817826, 66.0960808675, -42.474998672, 54.4101481089, -95.2591249599, 46.7571635655, -36.1518728134, 53.1369833289, 6752.28018439, 14485.7802578, -28249.8080071, 12404.1358811, -45527.5454697, 8224.24739641, -583.558418522, 583.822790259, -38.5242722367, 488.002492547, 762.235916724, 406.770972958, -97.3283524161, 39.3993910678, -7.45716887672, -94.6888261226, 5.21312767582, 66.5663110885, -38244.4060016, 46198.1580056, -2438.85610724, 7160.93426772, -6825.85814876, 26849.5320196, -341.709258441, 649.814128026, -842.509909744, 485.765366003, -842.883426584, 784.211931139, -46.0084618725, 53.3368852041, -23.3692084779, 92.9819931333, -88.173112537, 22.5760194738, -1458.71641444, 8786.07832489, -9119.33303719, 6028.63878049, -41564.2858957, 12389.435722, 814.434073869, 688.909956973, -614.232171225, 386.866733294, -483.578741793, 452.491373018, -85.1835372094, 27.2117182307, -25.9624137018, 56.2122163014, -45.4417834094, 52.5823799335, -6597.44598069, 4474.0724153, 42815.6977461, 9121.51549388, -13071.508162, 4991.78999929, 958.482869947, 425.066926334, -441.735974463, 948.969956999, -730.446818097, -798.667363766, -59.4781410012, -8.01839773824, 54.3697461223, 76.3857314555, -63.660636147, 20.6784667596, 5503.88042081, 29135.5336679, 29774.0076708, 27348.2517039, -25078.3883113, 37118.4754579, -701.250607261, 506.867272938, -828.672044961, 394.441594825, -565.128152116, -493.668384007, -90.6860346625, 87.5660162761, 38.4124250067, -71.2419091951, -44.8231591802, 64.7989179081, -13286.399401, 10923.6663353, -42454.0956304, 28373.5923827, 2976.00998236, 7158.04373796, -153.008879268, -239.508023445, -620.075473337, 674.454567256, -529.094905452, -246.665960377, -10.5577948421, 92.3455849214, -14.9838310282, -9.50872414431, 15.9349042128, -42.0660639276, -46828.5902603, 46293.4680149, -42988.6291383, 32008.772138, -5957.15153441, -42559.6398115, 914.538943837, 200.840517313, 482.699803142, 177.695053949, -479.127352497, -268.543007343, -56.4592177881, 79.3260415487, -65.5550395068, 88.0971787122, -49.0100086806, -20.9465558865]
    print "Viper: "
    vipstring = ''
    for v in viper:
        vipstring = vipstring + str(v) + ', '
    print vipstring


    if round == 1:
        test_set = static_sets.round1set
    elif round == 2:
        test_set = static_sets.round2set
        viper = helpers.get_one_param(viper)
    elif round == 3:
        test_set = static_sets.round3set
        viper = helpers.get_one_param(viper)


    if against == 1:
        cname = red_name
        print "\nCobra: "
        costring = ''
        for c in cobra:
            costring = costring + str(c) + ', '
        print costring
        if round == 1:
            cobra = helpers.get_one_param(cobra)
        i = 1
        while i <= 3:
            ace_zero_results.run_ace_zero(viper, cobra, name, cname, path, round, against, i)
            i += 1
    elif against == 2:
        for x, ind in enumerate(test_set):
            cobra = helpers.get_one_param(ind)
            names = ["Straight", "Default", "PP", "ECU Evolved"]
            if round == 1:
                names = ['a', 'b', 'c', 'd']
            i = 1
            while i <= 3:
                ace_zero_results.run_ace_zero(viper, cobra, name, names[x], path, round, against, i)
                i += 1
    # elif against == 3:
    #     i = 1
    #     while i <= 3:
    #         ace_zero_results.run_ace_zero(viper, cobra, name, "Straight", path, against, i)
    #         i += 1
    #
    # elif against == 4:
    #     i = 1
    #     while i <= 3:
    #         ace_zero_results.run_ace_zero(viper, cobra, name, "Default", path, against, i)
    #         i += 1


    return

if __name__ == '__main__':

    main()